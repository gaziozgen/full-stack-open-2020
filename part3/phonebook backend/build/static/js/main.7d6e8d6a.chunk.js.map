{"version":3,"sources":["components/Persons.js","components/Filter.js","components/Personform.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","filteredList","deletePerson","map","person","i","key","name","number","onClick","Filter","filter","handleFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","type","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","personService","includes","event","target","preventDefault","personObject","Number","found","find","window","confirm","console","log","catch","err","concat","error","setTimeout","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7d6e8d6a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Persons = ({ filteredList, deletePerson }) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2>Numbers</h2>\r\n            <ul>\r\n                {filteredList.map((person, i) =>\r\n                    <li key={i} >{person.name} {person.number} <button onClick={() => deletePerson(person)}>delete</button></li>\r\n                    \r\n                )}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                filter shown with <input\r\n                    value={filter}\r\n                    onChange={handleFilterChange} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2>add a new</h2>\r\n            <form onSubmit={props.addPerson}>\r\n                <div>\r\n                    name:<input\r\n                        value={props.newName}\r\n                        onChange={props.handlePersonChange} />\r\n                </div>\r\n                <div>\r\n                    number: <input\r\n                        value={props.newNumber}\r\n                        onChange={props.handleNumberChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message[0] === null) {\r\n      return null\r\n    }\r\n    if (message[1]) {\r\n      return (\r\n        <div className=\"success\">\r\n          {message[0]}\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className=\"error\">\r\n          {message[0]}\r\n        </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletion = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\nexport default { getAll, create, update, deletion }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/Personform';\nimport Notification from './components/Notification';\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState([null, true])\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const filteredList = persons.filter(person => {\n    return person.name.includes(filter)\n  })\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: Number(newNumber)\n    }\n    const found = persons.find(person => person.name === newName);\n\n    if (found) {\n      if (window.confirm(`${found.name} is already added to phonebook, replace the old number with a new one?`)) {\n        console.log(`update ${found.id}`)\n        personService\n          .update(found.id, personObject)\n          .then(response => {\n            setPersons(persons.map(person => (person.id !== found.id) ? person : response))\n            setErrorMessage([`Updated ${found.name}`, true])\n            setNewName('')\n            setNewNumber('')\n          }).catch(err => {\n            setErrorMessage([`Information of ${found.name} has already been removed from server`, false])\n            setPersons(persons.filter(person => person.id !== found.id))\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setErrorMessage([`Added ${response.name}`, true])\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage([error.response.data.error, false])\n        })\n    }\n\n    setTimeout(() => {\n      setErrorMessage([null, true])\n    }, 5000)\n  }\n\n  const deletePerson = person => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      console.log(`delete ${person.id}`)\n      personService.deletion(person.id).then(() => {\n        setPersons(persons.filter(n => n.id !== person.id))\n      })\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <Persons filteredList={filteredList} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  //<React.StrictMode>\n    <App />\n  //</React.StrictMode>\n  ,document.getElementById('root')\n);\n\n"],"sourceRoot":""}